

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="NumDiff -- Numerical Differentiation Library">
    <meta name="author" content="Jacob Williams" >
    <link rel="icon" href="./favicon.png">

    <title> NumDiff </title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link href="./css/fontawesome.min.css" rel="stylesheet">
    <link href="./css/brands.min.css" rel="stylesheet">
    <link href="./css/regular.min.css" rel="stylesheet">
    <link href="./css/solid.min.css" rel="stylesheet">
    <link href="./css/v4-font-face.min.css" rel="stylesheet">
    <link href="./css/v4-shims.min.css" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async
            integrity="sha256-DViIOMYdwlM/axqoGDPeUyf0urLoHMN4QACBKyB58Uw=" crossorigin="anonymous"></script>
    <!-- Other scripts and stylesheets -->
    <link href="./css/local.css" rel="stylesheet">
    <link href="./css/pygments.css" rel="stylesheet">
    <script src="./js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="./index.html">NumDiff </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="./lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/absint.html">Abstract Interfaces</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/types.html">Derived Types</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="./search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <!-- Main component for a primary marketing message or call to action -->
    <div class="p-5 mb-4 bg-light border rounded-3" id="jumbotron">
      <p>NumDiff -- Numerical Differentiation Library</p>
        <p> Find us on&hellip;</p>
      <p>
        <a class="btn btn-lg btn-primary" href="https://github.com/jacobwilliams/NumDiff" role="button">GitHub</a>
        
        
        
        
      </p>
    </div>

      <div class="row" id='text'>
        <div class=col-md-8>
          <h1>NumDiff</h1>
          <h1><img alt="NumDiff" src="media/logo.png"></h1>
<h2>Brief description</h2>
<p><strong>NumDiff</strong> provides a modern Fortran interface for computing the Jacobian (derivative) matrix of <code>m</code> nonlinear functions which depend on <code>n</code> variables. The Jacobian matrix is required for various applications, including numerical optimization. It can also be used to test the accuracy of gradients computed by other means. The library also provides for computing the sparsity of this matrix, and returning the Jacobian in sparse or dense form.</p>
<h2>Status</h2>
<p><a href="https://github.com/jacobwilliams/NumDiff/releases/latest"><img alt="GitHub release" src="https://img.shields.io/github/release/jacobwilliams/NumDiff.svg"></a>
<a href="https://github.com/jacobwilliams/NumDiff/actions"><img alt="Build Status" src="https://github.com/jacobwilliams/NumDiff/actions/workflows/CI.yml/badge.svg"></a>
<a href="https://codecov.io/gh/jacobwilliams/NumDiff"><img alt="codecov" src="https://codecov.io/gh/jacobwilliams/NumDiff/branch/master/graph/badge.svg"></a>
<a href="https://github.com/jacobwilliams/NumDiff/commits/master"><img alt="last-commit" src="https://img.shields.io/github/last-commit/jacobwilliams/NumDiff"></a></p>
<p>This is currently a work in progress. The goal is a comprehensive library that contains a full suite of computationally efficient implementations of algorithms for sparsity determination and numerical differentiation. This code is hosted on GitHub at: https://github.com/jacobwilliams/NumDiff</p>
<h3>To Do</h3>
<ul>
<li>[x] Computing the nonlinear sparsity pattern</li>
<li>[x] Specified by the user</li>
<li>[x] Assume all elements <code>true</code></li>
<li>[x] Three random points within variable bounds (have the option to specify separate bounds for this purpose)</li>
<li>[x] Various order finite different gradient methods</li>
<li>[x] 2-point (backward 1, forward 1)</li>
<li>[x] 3-point (backward 2, central, forward 2)</li>
<li>[x] 4-point (backward 3, backward 2, forward 2, forward 3)</li>
<li>[x] 5-point (backward 4, backward 3, central, forward 3, forward 4)</li>
<li>[x] 6-point (backward 5, backward 4, backward 3, forward 3, forward 4, forward 5)</li>
<li>[x] 7-point (backward 6, backward 5, backward 4, central, forward 4, forward 5, forward 6)</li>
<li>[x] 8-point (backward 7, backward 6, backward 5, backward 4, forward 4, forward 5, forward 6, forward 7)</li>
<li>[x] 9-point (backward 8, backward 7, backward 6, backward 5, central, forward 5, forward 6, forward 7, forward 8)</li>
<li>[x] 11-point (central)</li>
<li>[x] 13-point (central)</li>
<li>[x] 15-point (central)</li>
<li>[x] 17-point (central)</li>
<li>[x] Perturbations should respect variable bounds</li>
<li>[x] Neville's process</li>
<li>[x] Ability to use different methods for different columns</li>
<li>[x] Jacobian partitioning to compute multiple columns at the same time</li>
<li>[ ] Estimate the optimal perturbation step size</li>
<li>[ ] Computing the linear sparsity pattern (constant elements of Jacobian)</li>
<li>[ ] Add other gradient methods?</li>
<li>[ ] Also compute Hessian matrix?</li>
<li>[ ] OpenMP or Coarrays for parallelization</li>
<li>[ ] Testing for computational efficiency</li>
<li>[ ] General code cleanup</li>
</ul>
<h2>Building NumDiff</h2>
<h3>FPM</h3>
<p>A <a href="https://github.com/fortran-lang/fpm">Fortran Package Manager</a> manifest file is included, so that the library and tests cases can be compiled with FPM. For example:</p>
<div class="codehilite"><pre><span></span><code>fpm build --profile release
fpm test --profile release
</code></pre></div>

<p>To use <code>NumDiff</code> within your FPM project, add the following to your <code>fpm.toml</code> file:</p>
<div class="codehilite"><pre><span></span><code><span class="k">[dependencies]</span>
<span class="n">NumDiff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="p">=</span><span class="s2">&quot;https://github.com/jacobwilliams/NumDiff.git&quot;</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>

<p>or, to use a specific version:</p>
<div class="codehilite"><pre><span></span><code><span class="k">[dependencies]</span>
<span class="n">NumDiff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="p">=</span><span class="s2">&quot;https://github.com/jacobwilliams/NumDiff.git&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;1.7.0&quot;</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>

<p>To generate the documentation using <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>, run:</p>
<div class="codehilite"><pre><span></span><code>  ford ford.md
</code></pre></div>

<p>By default, the library is built with double precision (<code>real64</code>) real values. Explicitly specifying the real kind can be done using the following processor flags:</p>
<table>
<thead>
<tr>
<th>Preprocessor flag</th>
<th>Kind</th>
<th>Number of bytes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>REAL32</code></td>
<td><code>real(kind=real32)</code></td>
<td>4</td>
</tr>
<tr>
<td><code>REAL64</code></td>
<td><code>real(kind=real64)</code></td>
<td>8</td>
</tr>
<tr>
<td><code>REAL128</code></td>
<td><code>real(kind=real128)</code></td>
<td>16</td>
</tr>
</tbody>
</table>
<p>For example, to build a single precision version of the library, use:</p>
<div class="codehilite"><pre><span></span><code>fpm build --profile release --flag &quot;-DREAL32&quot;
</code></pre></div>

<p>Note that the <a href="https://github.com/jacobwilliams/pyplot-fortran">pyplot-fortran</a> library is a dependency for one of the test cases. FPM will automatically download the right version.</p>
<h2>Documentation</h2>
<p>The latest API documentation can be found <a href="https://jacobwilliams.github.io/NumDiff/">here</a>. This was generated from the source code using <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a> (note that the included <code>build.sh</code> script will also generate these files).</p>
<h2>License</h2>
<p>The NumDiff source code and related files and documentation are distributed under a permissive free software <a href="https://github.com/jacobwilliams/NumDiff/blob/master/LICENSE">license</a> (BSD-style).</p>
<h2>References</h2>
<ul>
<li>J. Oliver, "An algorithm for numerical differentiation of a function of one real variable", Journal of Computational and Applied Mathematics 6 (2) (1980) 145-160.  Fortran 77 code from <a href="ftp://math.nist.gov/pub/repository/diff/src/DIFF">NIST</a></li>
<li>Thomas F. Coleman, Burton S. Garbow, Jorge J. More, "Algorithm 618: FORTRAN subroutines for estimating sparse Jacobian Matrices", ACM Transactions on Mathematical Software (TOMS), Volume 10 Issue 3, Sept. 1984, Pages 346-347</li>
<li>G. E. Mullges, F. Uhlig, "Numerical Algorithms with Fortran", Springer, 1996.</li>
</ul>
        </div>
          <div class="col-md-4">
            <div class="card card-body bg-light">
              <h2 class="card-title">Developer Info</h2>
              <h4 class="card-text">Jacob Williams</h4>
              <p class="card-text"></p>
                <div class="text-center"><div class="btn-group" role="group">
                    
                    <a class="btn btn-lg btn-primary" href="https://github.com/jacobwilliams"><i class="fa fa-github fa-lg"></i></a>
                    
                    
                    
                    
                    
                    
                </div></div>
            </div>
          </div>
      </div>
        <div class="row">
          <hr>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Source Files</h3>
              <ul><li><a href='sourcefile/cache_module.f90.html'>cache_module.f90</a></li><li><a href='sourcefile/diff_module.f90.html'>diff_module.f90</a></li><li><a href='sourcefile/dsm_module.f90.html'>dsm_module.f90</a></li><li><a href='sourcefile/kinds_module.f90.html'>kinds_module.F90</a></li><li><a href='sourcefile/numerical_differentiation_module.f90.html'>numerical_differentiation_module.f90</a></li><li><a href='sourcefile/utilities_module.f90.html'>utilities_module.f90</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/files.html"><em>All source files&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Modules</h3>
              <ul><li><a href='module/diff_module.html'>diff_module</a></li><li><a href='module/dsm_module.html'>dsm_module</a></li><li><a href='module/numdiff_cache_module.html'>numdiff_cache_module</a></li><li><a href='module/numdiff_kinds_module.html'>numdiff_kinds_module</a></li><li><a href='module/numdiff_utilities_module.html'>numdiff_utilities_module</a></li><li><a href='module/numerical_differentiation_module.html'>numerical_differentiation_module</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/modules.html"><em>All modules&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Procedures</h3>
              <ul><li><a href='proc/clear_exceptions.html'>clear_exceptions</a></li><li><a href='proc/columns_in_partition_group.html'>columns_in_partition_group</a></li><li><a href='proc/compute_function_with_cache.html'>compute_function_with_cache</a></li><li><a href='proc/compute_indices.html'>compute_indices</a></li><li><a href='proc/compute_jacobian.html'>compute_jacobian</a></li><li><a href='proc/compute_jacobian_dense.html'>compute_jacobian_dense</a></li><li><a href='proc/compute_jacobian_for_sparsity.html'>compute_jacobian_for_sparsity</a></li><li><a href='proc/compute_jacobian_partitioned.html'>compute_jacobian_partitioned</a></li><li><a href='proc/compute_jacobian_standard.html'>compute_jacobian_standard</a></li><li><a href='proc/compute_jacobian_times_vector.html'>compute_jacobian_times_vector</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/procedures.html"><em>All procedures&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-3">
            <div>
              <h3>Derived Types</h3>
              <ul><li><a href='type/diff_func.html'>diff_func</a></li><li><a href='type/finite_diff_method.html'>finite_diff_method</a></li><li><a href='type/function_cache.html'>function_cache</a></li><li><a href='type/fx.html'>fx</a></li><li><a href='type/meth_array.html'>meth_array</a></li><li><a href='type/numdiff_type.html'>numdiff_type</a></li><li><a href='type/sparsity_pattern.html'>sparsity_pattern</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/types.html"><em>All derived types&hellip;</em></a></li>
              </ul>
            </div>
          </div>
        </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              NumDiff
 was developed by Jacob Williams<br>              &copy; 2025 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>
  </body>
</html>